{"ast":null,"code":"import _classCallCheck from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/createClass.js\";var onResponse=function onResponse(res){return res.ok?res.json():res.json().then(function(err){return Promise.reject(err);});};var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._headers=headers;this._baseUrl=baseUrl;}_createClass(Api,[{key:\"getProductList\",value:function getProductList(token){return fetch(\"\".concat(this._baseUrl,\"/products\"),{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(onResponse);}},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(onResponse);}},{key:\"getProductById\",value:function getProductById(idProduct,token){return fetch(\"\".concat(this._baseUrl,\"/products/\").concat(idProduct),{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(onResponse);}},{key:\"setUserInfo\",value:function setUserInfo(dataUser){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify(dataUser)}).then(onResponse);}},{key:\"search\",value:function search(searchQuery,token){return fetch(\"\".concat(this._baseUrl,\"/products/search?query=\").concat(searchQuery),{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(onResponse);}},{key:\"changeLikeProduct\",value:function changeLikeProduct(productId,isLike,token){return fetch(\"\".concat(this._baseUrl,\"/products/likes/\").concat(productId),{method:isLike?'DELETE':'PUT',headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(onResponse);}},{key:\"register\",value:function register(dataUser){return fetch(\"\".concat(this._baseUrl,\"/signup\"),{method:'POST',headers:this._headers,body:JSON.stringify(dataUser)}).then(onResponse);}},{key:\"login\",value:function login(dataUser){return fetch(\"\".concat(this._baseUrl,\"/signin\"),{method:'POST',headers:this._headers,body:JSON.stringify(dataUser)}).then(onResponse);}},{key:\"checkToken\",value:function checkToken(token){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:{'Content-Type':'application/json',Authorization:\"Bearer \".concat(token)}}).then(onResponse);}}]);return Api;}();var config={baseUrl:'https://api.react-learning.ru',headers:{'Content-Type':'application/json'// Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2VhYTYxZjU5Yjk4YjAzOGY3N2I1ZTMiLCJncm91cCI6ImZyb250MTAiLCJpYXQiOjE2NzY5OTQxODIsImV4cCI6MTcwODUzMDE4Mn0.qhDc1OR9TsQoqnA0InEjGiStTnoSmVaOmVLyytWSxXU'\n// Authorization: `Bearer ${token}`\n}};var api=new Api(config);export default api;","map":{"version":3,"names":["onResponse","res","ok","json","then","err","Promise","reject","Api","baseUrl","headers","_headers","_baseUrl","token","fetch","Authorization","idProduct","dataUser","method","body","JSON","stringify","searchQuery","productId","isLike","config","api"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/utils/api.js"],"sourcesContent":["const onResponse = (res) => {\n    return res.ok ? res.json() : res.json().then(err => Promise.reject(err));\n}\n\nclass Api {\n    constructor({baseUrl, headers}) {\n        this._headers = headers;\n        this._baseUrl = baseUrl;\n    }\n\n    getProductList(token) {\n        return fetch(`${this._baseUrl}/products`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers,\n        }).then(onResponse)\n    }\n\n    getProductById(idProduct, token) {\n        return fetch(`${this._baseUrl}/products/${idProduct}`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    setUserInfo(dataUser) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(dataUser),\n        }).then(onResponse)\n    }\n\n    search(searchQuery, token) {\n        return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    changeLikeProduct(productId, isLike, token) {\n        return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n            method: isLike ? 'DELETE' : 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    register(dataUser) {\n        return fetch(`${this._baseUrl}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(dataUser),\n        }).then(onResponse)\n    }\n\n    login(dataUser) {\n        return fetch(`${this._baseUrl}/signin`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(dataUser),\n        }).then(onResponse)\n    }\n\n    checkToken(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n}\n\nconst config = {\n    baseUrl: 'https://api.react-learning.ru',\n    headers: {\n        'Content-Type': 'application/json',\n        // Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2M2VhYTYxZjU5Yjk4YjAzOGY3N2I1ZTMiLCJncm91cCI6ImZyb250MTAiLCJpYXQiOjE2NzY5OTQxODIsImV4cCI6MTcwODUzMDE4Mn0.qhDc1OR9TsQoqnA0InEjGiStTnoSmVaOmVLyytWSxXU'\n        // Authorization: `Bearer ${token}`\n    }\n}\n\nconst api = new Api(config);\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}