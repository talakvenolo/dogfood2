{"ast":null,"code":"import _defineProperty from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useEffect,useState}from'react';import{ReactComponent as StarIcon}from\"./img/star.svg\";import cn from\"classnames\";import s from'./Rating.module.scss';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Rating=function Rating(_ref){var _ref$isEditable=_ref.isEditable,isEditable=_ref$isEditable===void 0?false:_ref$isEditable,rating=_ref.rating,setRating=_ref.setRating;var _useState=useState(new Array(5).fill(/*#__PURE__*/_jsx(_Fragment,{}))),_useState2=_slicedToArray(_useState,2),ratingArray=_useState2[0],setRatingArray=_useState2[1];var constructRating=useCallback(function(currentRating){var updateRating=ratingArray.map(function(el,index){var _cn;return/*#__PURE__*/_jsx(StarIcon,{className:cn(s.star,(_cn={},_defineProperty(_cn,s.filled,index<currentRating),_defineProperty(_cn,s.editable,isEditable),_cn)),onMouseEnter:function onMouseEnter(){return changeDisplay(index+1);},onMouseLeave:function onMouseLeave(){return changeDisplay(rating);},onClick:function onClick(){return changeRating(index+1);}});});setRatingArray(updateRating);},[rating,isEditable]);var changeDisplay=function changeDisplay(rating){if(!isEditable)return;constructRating(rating);};var changeRating=function changeRating(rating){if(!isEditable||!setRating)return;setRating(rating);};useEffect(function(){constructRating(rating);},[rating,constructRating]);return/*#__PURE__*/_jsx(\"div\",{children:ratingArray.map(function(star,index){return/*#__PURE__*/_jsx(\"span\",{children:star},index);})});};export default Rating;","map":{"version":3,"names":["React","useCallback","useEffect","useState","ReactComponent","StarIcon","cn","s","Rating","isEditable","rating","setRating","Array","fill","ratingArray","setRatingArray","constructRating","currentRating","updateRating","map","el","index","star","filled","editable","changeDisplay","changeRating"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/components/Rating/Rating.jsx"],"sourcesContent":["import React, {useCallback, useEffect, useState} from 'react';\nimport {ReactComponent as StarIcon} from \"./img/star.svg\";\nimport cn from \"classnames\";\nimport s from './Rating.module.scss';\n\nconst Rating = ({isEditable = false, rating, setRating}) => {\n    const [ratingArray, setRatingArray] = useState(new Array(5).fill(<></>));\n\n    const constructRating = useCallback((currentRating) => {\n        const updateRating = ratingArray.map((el, index) => {\n            return (\n                <StarIcon\n                    className={cn(s.star, {\n                        [s.filled]: index < currentRating,\n                        [s.editable]: isEditable\n                    })}\n                    onMouseEnter={() => changeDisplay(index + 1)}\n                    onMouseLeave={() => changeDisplay(rating)}\n                    onClick={() => changeRating(index + 1)}\n                />\n            )\n        })\n        setRatingArray(updateRating);\n    }, [rating, isEditable]);\n\n    const changeDisplay = (rating) => {\n        if (!isEditable) return;\n        constructRating(rating);\n    }\n\n    const changeRating = (rating) => {\n        if (!isEditable || !setRating) return;\n\n        setRating(rating);\n    }\n\n    useEffect(() => {\n        constructRating(rating);\n\n    }, [rating, constructRating])\n\n    return (\n        <div>\n            {ratingArray.map((star, index) => <span key={index}>{star}</span>)}\n        </div>\n    );\n};\n\nexport default Rating;\n"],"mappings":"oSAAA,MAAOA,MAAK,EAAGC,WAAW,CAAEC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAC7D,OAAQC,cAAc,GAAIC,SAAQ,KAAO,gBAAgB,CACzD,MAAOC,GAAE,KAAM,YAAY,CAC3B,MAAOC,EAAC,KAAM,sBAAsB,CAAC,gGAErC,GAAMC,OAAM,CAAG,QAATA,OAAM,MAAgD,0BAA3CC,UAAU,CAAVA,UAAU,0BAAG,KAAK,iBAAEC,MAAM,MAANA,MAAM,CAAEC,SAAS,MAATA,SAAS,CAClD,cAAsCR,QAAQ,CAAC,GAAIS,MAAK,CAAC,CAAC,CAAC,CAACC,IAAI,cAAC,kBAAK,CAAC,CAAC,wCAAjEC,WAAW,eAAEC,cAAc,eAElC,GAAMC,gBAAe,CAAGf,WAAW,CAAC,SAACgB,aAAa,CAAK,CACnD,GAAMC,aAAY,CAAGJ,WAAW,CAACK,GAAG,CAAC,SAACC,EAAE,CAAEC,KAAK,CAAK,SAChD,mBACI,KAAC,QAAQ,EACL,SAAS,CAAEf,EAAE,CAACC,CAAC,CAACe,IAAI,6BACff,CAAC,CAACgB,MAAM,CAAGF,KAAK,CAAGJ,aAAa,sBAChCV,CAAC,CAACiB,QAAQ,CAAGf,UAAU,OACzB,CACH,YAAY,CAAE,8BAAMgB,cAAa,CAACJ,KAAK,CAAG,CAAC,CAAC,EAAC,CAC7C,YAAY,CAAE,8BAAMI,cAAa,CAACf,MAAM,CAAC,EAAC,CAC1C,OAAO,CAAE,yBAAMgB,aAAY,CAACL,KAAK,CAAG,CAAC,CAAC,EAAC,EACzC,CAEV,CAAC,CAAC,CACFN,cAAc,CAACG,YAAY,CAAC,CAChC,CAAC,CAAE,CAACR,MAAM,CAAED,UAAU,CAAC,CAAC,CAExB,GAAMgB,cAAa,CAAG,QAAhBA,cAAa,CAAIf,MAAM,CAAK,CAC9B,GAAI,CAACD,UAAU,CAAE,OACjBO,eAAe,CAACN,MAAM,CAAC,CAC3B,CAAC,CAED,GAAMgB,aAAY,CAAG,QAAfA,aAAY,CAAIhB,MAAM,CAAK,CAC7B,GAAI,CAACD,UAAU,EAAI,CAACE,SAAS,CAAE,OAE/BA,SAAS,CAACD,MAAM,CAAC,CACrB,CAAC,CAEDR,SAAS,CAAC,UAAM,CACZc,eAAe,CAACN,MAAM,CAAC,CAE3B,CAAC,CAAE,CAACA,MAAM,CAAEM,eAAe,CAAC,CAAC,CAE7B,mBACI,qBACKF,WAAW,CAACK,GAAG,CAAC,SAACG,IAAI,CAAED,KAAK,qBAAK,sBAAmBC,IAAI,EAAZD,KAAK,CAAe,GAAC,EAChE,CAEd,CAAC,CAED,cAAeb,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}