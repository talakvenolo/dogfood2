{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import{useForm}from\"react-hook-form\";import Button from\"../../Button/Button\";import InputText from\"../../InputText/InputText\";import s from'./RegistrationForm.module.css';import{REGEXP_EMAIL,REGEXP_GROUP,REGEXP_PASSWORD,VALIDATE_MESSAGE}from\"../../../utils/constants\";import{useDispatch,useSelector}from\"react-redux\";import{registrationThunk}from\"../../../redux/redux-thunk/user-thunk/registrationThunk\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegistrationForm=function RegistrationForm(_ref){var _errors$email,_errors$password,_errors$group;var addContact=_ref.addContact,linkState=_ref.linkState;var _useForm=useForm({mode:'onBlur'}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var _useSelector=useSelector(function(state){return state.user;}),errorRedux=_useSelector.error;var dispatch=useDispatch();var onSubmit=function onSubmit(data){console.log('data-->',data);dispatch(registrationThunk(data));};var emailRegister=register('email',{required:VALIDATE_MESSAGE.requiredMessage,pattern:{value:REGEXP_EMAIL,message:VALIDATE_MESSAGE.emailMessage}});var passwordRegister=register('password',{required:VALIDATE_MESSAGE.requiredMessage,pattern:{value:REGEXP_PASSWORD,message:VALIDATE_MESSAGE.passwordMessage}});var groupRegister=register('group',{required:VALIDATE_MESSAGE.requiredMessage,pattern:{value:REGEXP_GROUP,message:VALIDATE_MESSAGE.groupMessage}});return/*#__PURE__*/_jsxs(\"form\",{className:s.form,onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h3\",{className:s.title,children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsx(InputText,_objectSpread(_objectSpread({},emailRegister),{},{placeholder:\"\\u0412\\u0430\\u0448 email\",errorText:(_errors$email=errors.email)===null||_errors$email===void 0?void 0:_errors$email.message})),/*#__PURE__*/_jsx(InputText,_objectSpread(_objectSpread({},passwordRegister),{},{placeholder:\"\\u0412\\u0430\\u0448 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"// type=\"password\"\n,errorText:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message})),/*#__PURE__*/_jsx(InputText,_objectSpread(_objectSpread({},groupRegister),{},{placeholder:\"\\u0423\\u043A\\u0430\\u0436\\u0438\\u0442\\u0435 \\u0432\\u0430\\u0448\\u0443 \\u0433\\u0440\\u0443\\u043F\\u043F\\u0443\",errorText:(_errors$group=errors.group)===null||_errors$group===void 0?void 0:_errors$group.message})),/*#__PURE__*/_jsx(\"p\",{className:s.description,children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u044F\\u0441\\u044C \\u043D\\u0430 \\u0441\\u0430\\u0439\\u0442\\u0435, \\u0432\\u044B \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0430\\u0435\\u0442\\u0435\\u0441\\u044C \\u0441 \\u043D\\u0430\\u0448\\u0438\\u043C\\u0438 \\u041F\\u0440\\u0430\\u0432\\u0438\\u043B\\u0430\\u043C\\u0438 \\u0438 \\u041F\\u043E\\u043B\\u0438\\u0442\\u0438\\u043A\\u043E\\u0439 \\u043A\\u043E\\u043D\\u0444\\u0438\\u0434\\u0435\\u043D\\u0446\\u0438\\u0430\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0438 \\u0441\\u043E\\u0433\\u043B\\u0430\\u0448\\u0430\\u0435\\u0442\\u0435\\u0441\\u044C \\u043D\\u0430 \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u043E\\u043D\\u043D\\u0443\\u044E \\u0440\\u0430\\u0441\\u0441\\u044B\\u043B\\u043A\\u0443.\"}),errorRedux?/*#__PURE__*/_jsx(\"p\",{className:s.errorMessage,children:errorRedux.message}):null,/*#__PURE__*/_jsx(Button,{children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"}),/*#__PURE__*/_jsx(Button,{href:\"/login\",linkState:linkState,look:\"secondary\",type:\"button\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]});};export default RegistrationForm;","map":{"version":3,"names":["React","useForm","Button","InputText","s","REGEXP_EMAIL","REGEXP_GROUP","REGEXP_PASSWORD","VALIDATE_MESSAGE","useDispatch","useSelector","registrationThunk","RegistrationForm","addContact","linkState","mode","register","handleSubmit","errors","formState","state","user","errorRedux","error","dispatch","onSubmit","data","console","log","emailRegister","required","requiredMessage","pattern","value","message","emailMessage","passwordRegister","passwordMessage","groupRegister","groupMessage","form","title","email","password","group","description","errorMessage"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/components/Forms/RegistrationForm/RegistrationForm.jsx"],"sourcesContent":["import React from 'react';\nimport {useForm} from \"react-hook-form\";\nimport Button from \"../../Button/Button\";\nimport InputText from \"../../InputText/InputText\";\nimport s from './RegistrationForm.module.css';\nimport {REGEXP_EMAIL, REGEXP_GROUP, REGEXP_PASSWORD, VALIDATE_MESSAGE} from \"../../../utils/constants\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {registrationThunk} from \"../../../redux/redux-thunk/user-thunk/registrationThunk\";\n\nconst RegistrationForm = ({addContact, linkState}) => {\n    const {register, handleSubmit, formState: {errors}} = useForm({mode: 'onBlur'});\n    const {error: errorRedux} = useSelector(state => state.user);\n    const dispatch = useDispatch();\n\n    const onSubmit = (data) => {\n        console.log('data-->', data)\n        dispatch(registrationThunk(data));\n    }\n\n    const emailRegister = register('email', {\n        required: VALIDATE_MESSAGE.requiredMessage,\n        pattern: {\n            value: REGEXP_EMAIL,\n            message: VALIDATE_MESSAGE.emailMessage\n        }\n    });\n\n    const passwordRegister = register('password', {\n        required: VALIDATE_MESSAGE.requiredMessage,\n        pattern: {\n            value: REGEXP_PASSWORD,\n            message: VALIDATE_MESSAGE.passwordMessage\n        }\n    });\n\n    const groupRegister = register('group', {\n        required: VALIDATE_MESSAGE.requiredMessage,\n        pattern: {\n            value: REGEXP_GROUP,\n            message: VALIDATE_MESSAGE.groupMessage\n        }\n    });\n\n    return (\n        <form className={s.form} onSubmit={handleSubmit(onSubmit)}>\n            <h3 className={s.title}>Регистрация</h3>\n            <InputText\n                {...emailRegister}\n                placeholder=\"Ваш email\"\n                errorText={errors.email?.message}\n            />\n            <InputText\n                {...passwordRegister}\n                placeholder=\"Ваш пароль\"\n                // type=\"password\"\n                errorText={errors.password?.message}\n            />\n            <InputText\n                {...groupRegister}\n                placeholder=\"Укажите вашу группу\"\n                errorText={errors.group?.message}\n            />\n            <p className={s.description}>Регистрируясь на сайте, вы соглашаетесь с нашими Правилами и Политикой\n                конфиденциальности и соглашаетесь\n                на информационную рассылку.</p>\n            {errorRedux ? (\n                <p className={s.errorMessage}>{errorRedux.message}</p>\n            ) : null}\n            <Button>Зарегистрироваться</Button>\n            <Button href=\"/login\" linkState={linkState} look=\"secondary\" type=\"button\">Войти</Button>\n        </form>\n    );\n};\n\nexport default RegistrationForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}