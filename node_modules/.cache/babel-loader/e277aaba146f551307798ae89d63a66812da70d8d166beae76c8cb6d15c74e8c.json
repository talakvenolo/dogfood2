{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { isLiked } from \"../../../utils/products\";\nexport const changeLikeProductThunk = createAsyncThunk('product/changeLikeProductThunk', async function (product, _ref) {\n  let {\n    rejectWithValue,\n    fulfillWithValue,\n    dispatch,\n    getState,\n    extra: api\n  } = _ref;\n  try {\n    const token = localStorage.getItem('jwt');\n    const {\n      user: {\n        userInfo\n      }\n    } = getState();\n    const liked = isLiked(product.likes, userInfo._id);\n    const data = await api.changeLikeProduct(product._id, liked, token);\n    return fulfillWithValue({\n      product: data,\n      liked\n    });\n  } catch (e) {\n    return rejectWithValue(e);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","isLiked","changeLikeProductThunk","product","rejectWithValue","fulfillWithValue","dispatch","getState","extra","api","token","localStorage","getItem","user","userInfo","liked","likes","_id","data","changeLikeProduct","e"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/redux/redux-thunk/products-thunk/changeLikeProductThunk.js"],"sourcesContent":["import {createAsyncThunk} from \"@reduxjs/toolkit\";\nimport {isLiked} from \"../../../utils/products\";\n\nexport const changeLikeProductThunk = createAsyncThunk(\n    'product/changeLikeProductThunk',\n    async function (product, {rejectWithValue, fulfillWithValue, dispatch, getState, extra: api}) {\n        try {\n            const token = localStorage.getItem('jwt');\n            const {user: {userInfo}} = getState();\n            const liked = isLiked(product.likes, userInfo._id);\n            const data = await api.changeLikeProduct(product._id, liked, token);\n            return fulfillWithValue({product: data, liked});\n        } catch (e) {\n            return rejectWithValue(e);\n        }\n    })\n"],"mappings":"AAAA,SAAQA,gBAAgB,QAAO,kBAAkB;AACjD,SAAQC,OAAO,QAAO,yBAAyB;AAE/C,OAAO,MAAMC,sBAAsB,GAAGF,gBAAgB,CAClD,gCAAgC,EAChC,gBAAgBG,OAAO,QAAuE;EAAA,IAArE;IAACC,eAAe;IAAEC,gBAAgB;IAAEC,QAAQ;IAAEC,QAAQ;IAAEC,KAAK,EAAEC;EAAG,CAAC;EACxF,IAAI;IACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAC;IACzC,MAAM;MAACC,IAAI,EAAE;QAACC;MAAQ;IAAC,CAAC,GAAGP,QAAQ,EAAE;IACrC,MAAMQ,KAAK,GAAGd,OAAO,CAACE,OAAO,CAACa,KAAK,EAAEF,QAAQ,CAACG,GAAG,CAAC;IAClD,MAAMC,IAAI,GAAG,MAAMT,GAAG,CAACU,iBAAiB,CAAChB,OAAO,CAACc,GAAG,EAAEF,KAAK,EAAEL,KAAK,CAAC;IACnE,OAAOL,gBAAgB,CAAC;MAACF,OAAO,EAAEe,IAAI;MAAEH;IAAK,CAAC,CAAC;EACnD,CAAC,CAAC,OAAOK,CAAC,EAAE;IACR,OAAOhB,eAAe,CAACgB,CAAC,CAAC;EAC7B;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}