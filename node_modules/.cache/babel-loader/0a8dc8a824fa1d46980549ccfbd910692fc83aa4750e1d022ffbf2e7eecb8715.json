{"ast":null,"code":"import s from'./Header.module.css';import cn from'classnames';import{Link,useLocation,useNavigate}from\"react-router-dom\";import{ReactComponent as FavouriteIcon}from'./img/favorites.svg';import{ReactComponent as UserIcon}from'./img/profile.svg';import{ReactComponent as Logout}from'./img/logout.svg';import{logout}from\"../../../redux/redux-slice/user/userSlice\";import{useAppDispatch,useAppSelector}from\"../../../hooks/reduxHooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Header=function Header(_ref){var children=_ref.children;var _useAppSelector=useAppSelector(function(state){return state.products;}),favourites=_useAppSelector.favourites;var _useAppSelector2=useAppSelector(function(state){return state.user;}),isAuth=_useAppSelector2.isAuth;var location=useLocation();var dispatch=useAppDispatch();var navigate=useNavigate();var handleLogout=function handleLogout(){dispatch(logout());navigate(0);};return/*#__PURE__*/_jsx(\"header\",{className:cn(s.header,'cover'),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:s.wrapper,children:[children,/*#__PURE__*/_jsxs(\"div\",{className:s.iconsMenu,children:[/*#__PURE__*/_jsxs(Link,{className:s.favouritesLink,to:\"/favourites\",children:[/*#__PURE__*/_jsx(FavouriteIcon,{}),favourites.length!==0&&/*#__PURE__*/_jsx(\"span\",{className:s.iconBubble,children:favourites.length})]}),isAuth?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"profile\",children:/*#__PURE__*/_jsx(UserIcon,{})})}),/*#__PURE__*/_jsx(\"div\",{onClick:handleLogout,children:/*#__PURE__*/_jsx(Logout,{})})]}):/*#__PURE__*/_jsx(Link,{to:\"/login\",state:{backgroundLocation:location,initialPath:location.pathname},style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"div\",{className:s.wrapperEntry,children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})})]})]})})});};export default Header;","map":{"version":3,"names":["s","cn","Link","useLocation","useNavigate","ReactComponent","FavouriteIcon","UserIcon","Logout","logout","useAppDispatch","useAppSelector","Header","children","state","products","favourites","user","isAuth","location","dispatch","navigate","handleLogout","header","wrapper","iconsMenu","favouritesLink","length","iconBubble","backgroundLocation","initialPath","pathname","textDecoration","wrapperEntry"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/components/layout/Header/Header.tsx"],"sourcesContent":["import s from './Header.module.css';\nimport cn from 'classnames';\nimport {Link, useLocation, useNavigate} from \"react-router-dom\";\nimport {ReactComponent as FavouriteIcon} from './img/favorites.svg';\nimport {ReactComponent as UserIcon} from './img/profile.svg';\nimport {ReactComponent as Logout} from './img/logout.svg';\nimport {logout} from \"../../../redux/redux-slice/user/userSlice\";\nimport {useAppDispatch, useAppSelector} from \"../../../hooks/reduxHooks\";\n\nconst Header = ({children}): JSX.Element => {\n    const {favourites} = useAppSelector(state => state.products);\n    const {isAuth} = useAppSelector(state => state.user);\n    const location = useLocation();\n    const dispatch = useAppDispatch();\n    const navigate = useNavigate();\n\n    const handleLogout = () => {\n        dispatch(logout());\n        navigate(0);\n    }\n\n    return (\n        <header className={cn(s.header, 'cover')}>\n            <div className=\"container\">\n                <div className={s.wrapper}>\n                    {children}\n                    <div className={s.iconsMenu}>\n                        <Link className={s.favouritesLink} to='/favourites'>\n                            <FavouriteIcon/>\n                            {favourites.length !== 0 && <span className={s.iconBubble}>{favourites.length}</span>}\n                        </Link>\n\n                        {isAuth ? (\n                            <>\n                                <div>\n                                    <Link to=\"profile\"><UserIcon/></Link>\n                                </div>\n                                <div onClick={handleLogout}>\n                                    <Logout/>\n                                </div>\n                            </>\n                        ) : (\n                            <Link to=\"/login\" state={{\n                                backgroundLocation: location,\n                                initialPath: location.pathname\n                            }}\n                                  style={{textDecoration: 'none'}}>\n                                <div className={s.wrapperEntry}>\n                                    Войти\n                                </div>\n                            </Link>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </header>\n    )\n}\n\nexport default Header;\n"],"mappings":"AAAA,MAAOA,EAAC,KAAM,qBAAqB,CACnC,MAAOC,GAAE,KAAM,YAAY,CAC3B,OAAQC,IAAI,CAAEC,WAAW,CAAEC,WAAW,KAAO,kBAAkB,CAC/D,OAAQC,cAAc,GAAIC,cAAa,KAAO,qBAAqB,CACnE,OAAQD,cAAc,GAAIE,SAAQ,KAAO,mBAAmB,CAC5D,OAAQF,cAAc,GAAIG,OAAM,KAAO,kBAAkB,CACzD,OAAQC,MAAM,KAAO,2CAA2C,CAChE,OAAQC,cAAc,CAAEC,cAAc,KAAO,2BAA2B,CAAC,6IAEzE,GAAMC,OAAM,CAAG,QAATA,OAAM,MAAgC,IAA3BC,SAAQ,MAARA,QAAQ,CACrB,oBAAqBF,cAAc,CAAC,SAAAG,KAAK,QAAIA,MAAK,CAACC,QAAQ,GAAC,CAArDC,UAAU,iBAAVA,UAAU,CACjB,qBAAiBL,cAAc,CAAC,SAAAG,KAAK,QAAIA,MAAK,CAACG,IAAI,GAAC,CAA7CC,MAAM,kBAANA,MAAM,CACb,GAAMC,SAAQ,CAAGhB,WAAW,EAAE,CAC9B,GAAMiB,SAAQ,CAAGV,cAAc,EAAE,CACjC,GAAMW,SAAQ,CAAGjB,WAAW,EAAE,CAE9B,GAAMkB,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvBF,QAAQ,CAACX,MAAM,EAAE,CAAC,CAClBY,QAAQ,CAAC,CAAC,CAAC,CACf,CAAC,CAED,mBACI,eAAQ,SAAS,CAAEpB,EAAE,CAACD,CAAC,CAACuB,MAAM,CAAE,OAAO,CAAE,uBACrC,YAAK,SAAS,CAAC,WAAW,uBACtB,aAAK,SAAS,CAAEvB,CAAC,CAACwB,OAAQ,WACrBX,QAAQ,cACT,aAAK,SAAS,CAAEb,CAAC,CAACyB,SAAU,wBACxB,MAAC,IAAI,EAAC,SAAS,CAAEzB,CAAC,CAAC0B,cAAe,CAAC,EAAE,CAAC,aAAa,wBAC/C,KAAC,aAAa,IAAE,CACfV,UAAU,CAACW,MAAM,GAAK,CAAC,eAAI,aAAM,SAAS,CAAE3B,CAAC,CAAC4B,UAAW,UAAEZ,UAAU,CAACW,MAAM,EAAQ,GAClF,CAENT,MAAM,cACH,wCACI,kCACI,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,uBAAC,KAAC,QAAQ,IAAE,EAAO,EACnC,cACN,YAAK,OAAO,CAAEI,YAAa,uBACvB,KAAC,MAAM,IAAE,EACP,GACP,cAEH,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,CAAC,KAAK,CAAE,CACrBO,kBAAkB,CAAEV,QAAQ,CAC5BW,WAAW,CAAEX,QAAQ,CAACY,QAC1B,CAAE,CACI,KAAK,CAAE,CAACC,cAAc,CAAE,MAAM,CAAE,uBAClC,YAAK,SAAS,CAAEhC,CAAC,CAACiC,YAAa,UAAC,gCAEhC,EAAM,EAEb,GACC,GACJ,EACJ,EACD,CAEjB,CAAC,CAED,cAAerB,OAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}