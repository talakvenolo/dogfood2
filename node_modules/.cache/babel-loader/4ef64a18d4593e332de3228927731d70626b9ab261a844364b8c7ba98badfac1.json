{"ast":null,"code":"const onResponse = res => {\n  return res.ok ? res.json() : res.json().then(err => Promise.reject(err));\n};\nclass Api {\n  constructor(_ref) {\n    let {\n      baseUrl,\n      headers\n    } = _ref;\n    this._headers = headers;\n    this._baseUrl = baseUrl;\n  }\n  getProductList(token) {\n    return fetch(`${this._baseUrl}/products`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }).then(onResponse);\n  }\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    }).then(onResponse);\n  }\n  getProductById(idProduct, token) {\n    return fetch(`${this._baseUrl}/products/${idProduct}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }).then(onResponse);\n  }\n  setUserInfo(dataUser) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(dataUser)\n    }).then(onResponse);\n  }\n  search(searchQuery, token) {\n    return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }).then(onResponse);\n  }\n  changeLikeProduct(productId, isLike, token) {\n    return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n      method: isLike ? 'DELETE' : 'PUT',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }).then(onResponse);\n  }\n  register(dataUser) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(dataUser)\n    }).then(onResponse);\n  }\n  login(dataUser) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(dataUser)\n    }).then(onResponse);\n  }\n  checkToken(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${token}`\n      }\n    }).then(onResponse);\n  }\n}\nconst config = {\n  baseUrl: 'https://api.react-learning.ru',\n  headers: {\n    'Content-Type': 'application/json'\n    // Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDFlZGM2N2FhMzk3MTIxODM5YzcwMGQiLCJncm91cCI6Imdyb3VwLTEwIiwiaWF0IjoxNjgwMTA4NzgzLCJleHAiOjE3MTE2NDQ3ODN9.PefoqEmN_xO9zqsJHrDpey3SuyBVZKnrAmNyNjYZGqI'\n    // Authorization: `Bearer ${token}`\n  }\n};\n\nconst api = new Api(config);\nexport default api;","map":{"version":3,"names":["onResponse","res","ok","json","then","err","Promise","reject","Api","constructor","baseUrl","headers","_headers","_baseUrl","getProductList","token","fetch","Authorization","getUserInfo","getProductById","idProduct","setUserInfo","dataUser","method","body","JSON","stringify","search","searchQuery","changeLikeProduct","productId","isLike","register","login","checkToken","config","api"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/utils/api.js"],"sourcesContent":["const onResponse = (res) => {\n    return res.ok ? res.json() : res.json().then(err => Promise.reject(err));\n}\n\nclass Api {\n    constructor({baseUrl, headers}) {\n        this._headers = headers;\n        this._baseUrl = baseUrl;\n    }\n\n    getProductList(token) {\n        return fetch(`${this._baseUrl}/products`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    getUserInfo() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: this._headers,\n        }).then(onResponse)\n    }\n\n    getProductById(idProduct, token) {\n        return fetch(`${this._baseUrl}/products/${idProduct}`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    setUserInfo(dataUser) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify(dataUser),\n        }).then(onResponse)\n    }\n\n    search(searchQuery, token) {\n        return fetch(`${this._baseUrl}/products/search?query=${searchQuery}`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    changeLikeProduct(productId, isLike, token) {\n        return fetch(`${this._baseUrl}/products/likes/${productId}`, {\n            method: isLike ? 'DELETE' : 'PUT',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n\n    register(dataUser) {\n        return fetch(`${this._baseUrl}/signup`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(dataUser),\n        }).then(onResponse)\n    }\n\n    login(dataUser) {\n        return fetch(`${this._baseUrl}/signin`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify(dataUser),\n        }).then(onResponse)\n    }\n\n    checkToken(token) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${token}`\n            }\n        }).then(onResponse)\n    }\n}\n\nconst config = {\n    baseUrl: 'https://api.react-learning.ru',\n    headers: {\n        'Content-Type': 'application/json',\n        // Authorization: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2NDFlZGM2N2FhMzk3MTIxODM5YzcwMGQiLCJncm91cCI6Imdyb3VwLTEwIiwiaWF0IjoxNjgwMTA4NzgzLCJleHAiOjE3MTE2NDQ3ODN9.PefoqEmN_xO9zqsJHrDpey3SuyBVZKnrAmNyNjYZGqI'\n        // Authorization: `Bearer ${token}`\n    }\n}\n\nconst api = new Api(config);\n\nexport default api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}