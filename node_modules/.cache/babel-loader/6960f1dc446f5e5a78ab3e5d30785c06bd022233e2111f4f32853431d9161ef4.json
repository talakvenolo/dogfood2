{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\K.V\\\\Education\\\\SberUniversity\\\\dogfood2\\\\src\\\\components\\\\Card\\\\Card.jsx\",\n  _s = $RefreshSig$();\nimport './index.css';\nimport { ReactComponent as Save } from \"./save.svg\";\nimport cn from \"classnames\";\nimport { calcDiscountPrice, isLiked } from \"../../utils/products\";\nimport { Link } from \"react-router-dom\";\nimport CardSkeleton from \"../../components/CardSkeleton/CardSkeleton\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useCallback } from \"react\";\nimport { changeLikeProductThunk } from \"../../redux/redux-thunk/products-thunk/changeLikeProductThunk\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Card = _ref => {\n  _s();\n  let {\n    name,\n    price,\n    discount,\n    wight,\n    description,\n    pictures,\n    tags,\n    likes,\n    _id\n  } = _ref;\n  const {\n    userInfo,\n    isLoading\n  } = useSelector(state => state.user);\n  const discountPrice = calcDiscountPrice(price, discount);\n  const liked = isLiked(likes, userInfo === null || userInfo === void 0 ? void 0 : userInfo._id);\n  const dispatch = useDispatch();\n  const handleLikeClick = useCallback(() => {\n    return dispatch(changeLikeProductThunk({\n      _id,\n      likes\n    }));\n  }, [_id, dispatch, likes]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(CardSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card__sticky card__sticky_type_top-left\",\n        children: [discount !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"card__discount\",\n          children: `-${discount}%`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 44\n        }, this), tags && tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: cn('tag', {\n            // [`tag_type_${tag}`]: true\n            ['tag_type_new']: tag === 'new',\n            ['tag_type_sale']: tag === 'sale'\n          }),\n          children: tag\n        }, tag, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 50\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card__sticky card__sticky_type_top-right\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: cn('card__favorite', {\n            'card__favorite_is-active': liked\n          }),\n          onClick: handleLikeClick,\n          children: /*#__PURE__*/_jsxDEV(Save, {\n            className: \"card__favorite-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: `/product/${_id}`,\n        className: \"card__link\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: pictures,\n          className: \"card__image\",\n          alt: description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card__desc\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: discount !== 0 ? 'card__old-price' : 'card__price',\n            children: [price, \"\\xA0\\u20BD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 29\n          }, this), discount !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card__price card__price_type_discount\",\n            children: [discountPrice, \"\\xA0\\u20BD\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"card__wight\",\n            children: wight\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card__name\",\n            children: name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"#\",\n        className: \"card__cart btn btn_type_primary\",\n        children: \"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(Card, \"MQDW4nRGIWfdShwKTf6luW7rxnM=\", false, function () {\n  return [useSelector, useDispatch];\n});\n_c = Card;\nexport default Card;\nvar _c;\n$RefreshReg$(_c, \"Card\");","map":{"version":3,"names":["ReactComponent","Save","cn","calcDiscountPrice","isLiked","Link","CardSkeleton","useDispatch","useSelector","useCallback","changeLikeProductThunk","Card","name","price","discount","wight","description","pictures","tags","likes","_id","userInfo","isLoading","state","user","discountPrice","liked","dispatch","handleLikeClick","map","tag"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/components/Card/Card.jsx"],"sourcesContent":["import './index.css';\nimport {ReactComponent as Save} from \"./save.svg\";\nimport cn from \"classnames\";\nimport {calcDiscountPrice, isLiked} from \"../../utils/products\";\nimport {Link} from \"react-router-dom\";\nimport CardSkeleton from \"../../components/CardSkeleton/CardSkeleton\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {useCallback} from \"react\";\nimport {changeLikeProductThunk} from \"../../redux/redux-thunk/products-thunk/changeLikeProductThunk\";\n\nconst Card = ({name, price, discount, wight, description, pictures, tags, likes, _id}) => {\n    const {userInfo, isLoading} = useSelector(state => state.user);\n    const discountPrice = calcDiscountPrice(price, discount);\n    const liked = isLiked(likes, userInfo?._id);\n    const dispatch = useDispatch();\n\n    const handleLikeClick = useCallback(() => {\n        return dispatch(changeLikeProductThunk({_id, likes}));\n    }, [_id, dispatch, likes])\n\n    return (\n        <>\n            {isLoading ? (\n                <CardSkeleton/>\n            ) : (\n                <div className='card'>\n                    <div className='card__sticky card__sticky_type_top-left'>\n                        {discount !== 0 && <span className='card__discount'>{`-${discount}%`}</span>}\n                        {tags && tags.map(tag => <span key={tag} className={cn('tag', {\n                            // [`tag_type_${tag}`]: true\n                            ['tag_type_new']: tag === 'new',\n                            ['tag_type_sale']: tag === 'sale',\n                        })}>{tag}</span>)}\n                    </div>\n                    <div className='card__sticky card__sticky_type_top-right'>\n                        <button className={cn('card__favorite', {\n                            'card__favorite_is-active': liked\n                        })} onClick={handleLikeClick}>\n                            <Save className='card__favorite-icon'/>\n                        </button>\n                    </div>\n                    <Link to={`/product/${_id}`} className='card__link'>\n                        <img src={pictures} className='card__image' alt={description}/>\n                        <div className='card__desc'>\n                            <span className={discount !== 0 ? 'card__old-price' : 'card__price'}>{price}&nbsp;₽</span>\n                            {discount !== 0 &&\n                                <span className='card__price card__price_type_discount'>{discountPrice}&nbsp;₽</span>}\n                            <span className='card__wight'>{wight}</span>\n                            <p className='card__name'>{name}</p>\n                        </div>\n                    </Link>\n                    <a href=\"#\" className='card__cart btn btn_type_primary'>В корзину</a>\n                </div>\n            )}\n\n        </>\n    );\n};\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}