{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\K.V\\\\Education\\\\SberUniversity\\\\dogfood2\\\\src\\\\pages\\\\ProductPage\\\\ProductPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useEffect } from 'react';\nimport Spinner from \"../../components/Spiner/Spiner\";\nimport Product from \"../../components/Product/Product\";\nimport s from '../../components/Product/Product.module.css';\nimport { useParams } from \"react-router-dom\";\nimport NotFoundPage from \"../NotFoundPage/NotFoundPage\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getSingleProductThunk } from \"../../redux/redux-thunk/singleProduct-thunk/getSingleProductThunk\";\nimport { changeLikeProductThunk } from \"../../redux/redux-thunk/products-thunk/changeLikeProductThunk\";\nimport { setProductState } from \"../../redux/redux-slice/singleProduct/singleProductSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductPage = () => {\n  _s();\n  const {\n    productId\n  } = useParams();\n  const dispatch = useDispatch();\n  const {\n    singleProduct,\n    isLoading,\n    error: isError\n  } = useSelector(state => state.singleProduct);\n  console.log('singleProduct-->', singleProduct);\n  useEffect(() => {\n    dispatch(getSingleProductThunk(productId));\n  }, [dispatch, productId]);\n  const handleProductLike = useCallback(() => {\n    dispatch(changeLikeProductThunk(singleProduct)).then(updateProduct => {\n      dispatch(setProductState(updateProduct.payload.product));\n    });\n  }, [dispatch, singleProduct]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.wrapperLoader,\n      children: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }, this) : !isError && /*#__PURE__*/_jsxDEV(Product, {\n      ...singleProduct,\n      onProductLike: handleProductLike\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 29\n    }, this), isError ? /*#__PURE__*/_jsxDEV(NotFoundPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductPage, \"N1oSPNhEhsn0KKxvrtrxXoOLaw4=\", false, function () {\n  return [useParams, useDispatch, useSelector];\n});\n_c = ProductPage;\nexport default ProductPage;\nvar _c;\n$RefreshReg$(_c, \"ProductPage\");","map":{"version":3,"names":["React","useCallback","useEffect","Spinner","Product","s","useParams","NotFoundPage","useDispatch","useSelector","getSingleProductThunk","changeLikeProductThunk","setProductState","ProductPage","productId","dispatch","singleProduct","isLoading","error","isError","state","console","log","handleProductLike","then","updateProduct","payload","product","wrapperLoader"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/pages/ProductPage/ProductPage.jsx"],"sourcesContent":["import React, {useCallback, useEffect} from 'react';\n\nimport Spinner from \"../../components/Spiner/Spiner\";\nimport Product from \"../../components/Product/Product\";\nimport s from '../../components/Product/Product.module.css'\nimport {useParams} from \"react-router-dom\";\nimport NotFoundPage from \"../NotFoundPage/NotFoundPage\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getSingleProductThunk} from \"../../redux/redux-thunk/singleProduct-thunk/getSingleProductThunk\";\nimport {changeLikeProductThunk} from \"../../redux/redux-thunk/products-thunk/changeLikeProductThunk\";\nimport {setProductState} from \"../../redux/redux-slice/singleProduct/singleProductSlice\";\n\nconst ProductPage = () => {\n    const {productId} = useParams();\n    const dispatch = useDispatch();\n    const {singleProduct, isLoading, error: isError} = useSelector(state => state.singleProduct);\n\n    console.log('singleProduct-->', singleProduct);\n\n    useEffect(() => {\n        dispatch(getSingleProductThunk(productId))\n    }, [dispatch, productId])\n\n    const handleProductLike = useCallback(() => {\n        dispatch(changeLikeProductThunk(singleProduct)).then(updateProduct => {\n            dispatch(setProductState(updateProduct.payload.product));\n        })\n    }, [dispatch, singleProduct]);\n\n    return (\n        <div className=\"container\">\n            {isLoading ? (\n                <div className={s.wrapperLoader}>\n                    <Spinner/>\n                </div>\n            ) : (\n                !isError && <Product {...singleProduct} onProductLike={handleProductLike}/>)}\n            {isError ? (\n                <NotFoundPage/>\n            ) : null}\n        </div>\n    );\n};\n\nexport default ProductPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,WAAW,EAAEC,SAAS,QAAO,OAAO;AAEnD,OAAOC,OAAO,MAAM,gCAAgC;AACpD,OAAOC,OAAO,MAAM,kCAAkC;AACtD,OAAOC,CAAC,MAAM,6CAA6C;AAC3D,SAAQC,SAAS,QAAO,kBAAkB;AAC1C,OAAOC,YAAY,MAAM,8BAA8B;AACvD,SAAQC,WAAW,EAAEC,WAAW,QAAO,aAAa;AACpD,SAAQC,qBAAqB,QAAO,mEAAmE;AACvG,SAAQC,sBAAsB,QAAO,+DAA+D;AACpG,SAAQC,eAAe,QAAO,0DAA0D;AAAC;AAEzF,MAAMC,WAAW,GAAG,MAAM;EAAA;EACtB,MAAM;IAACC;EAAS,CAAC,GAAGR,SAAS,EAAE;EAC/B,MAAMS,QAAQ,GAAGP,WAAW,EAAE;EAC9B,MAAM;IAACQ,aAAa;IAAEC,SAAS;IAAEC,KAAK,EAAEC;EAAO,CAAC,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAK,CAACJ,aAAa,CAAC;EAE5FK,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEN,aAAa,CAAC;EAE9Cd,SAAS,CAAC,MAAM;IACZa,QAAQ,CAACL,qBAAqB,CAACI,SAAS,CAAC,CAAC;EAC9C,CAAC,EAAE,CAACC,QAAQ,EAAED,SAAS,CAAC,CAAC;EAEzB,MAAMS,iBAAiB,GAAGtB,WAAW,CAAC,MAAM;IACxCc,QAAQ,CAACJ,sBAAsB,CAACK,aAAa,CAAC,CAAC,CAACQ,IAAI,CAACC,aAAa,IAAI;MAClEV,QAAQ,CAACH,eAAe,CAACa,aAAa,CAACC,OAAO,CAACC,OAAO,CAAC,CAAC;IAC5D,CAAC,CAAC;EACN,CAAC,EAAE,CAACZ,QAAQ,EAAEC,aAAa,CAAC,CAAC;EAE7B,oBACI;IAAK,SAAS,EAAC,WAAW;IAAA,WACrBC,SAAS,gBACN;MAAK,SAAS,EAAEZ,CAAC,CAACuB,aAAc;MAAA,uBAC5B,QAAC,OAAO;QAAA;QAAA;QAAA;MAAA;IAAE;MAAA;MAAA;MAAA;IAAA,QACR,GAEN,CAACT,OAAO,iBAAI,QAAC,OAAO;MAAA,GAAKH,aAAa;MAAE,aAAa,EAAEO;IAAkB;MAAA;MAAA;MAAA;IAAA,QAAG,EAC/EJ,OAAO,gBACJ,QAAC,YAAY;MAAA;MAAA;MAAA;IAAA,QAAE,GACf,IAAI;EAAA;IAAA;IAAA;IAAA;EAAA,QACN;AAEd,CAAC;AAAC,GA9BIN,WAAW;EAAA,QACOP,SAAS,EACZE,WAAW,EACuBC,WAAW;AAAA;AAAA,KAH5DI,WAAW;AAgCjB,eAAeA,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}