{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk}from\"@reduxjs/toolkit\";export var loginThunk=createAsyncThunk('user/loginThunk',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dataAuth,_ref){var rejectWithValue,fulfillWithValue,dispatch,getState,api,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:rejectWithValue=_ref.rejectWithValue,fulfillWithValue=_ref.fulfillWithValue,dispatch=_ref.dispatch,getState=_ref.getState,api=_ref.extra;_context.prev=1;_context.next=4;return api.login(dataAuth);case 4:data=_context.sent;if(!data.token){_context.next=9;break;}localStorage.setItem('jwt',data.token);_context.next=10;break;case 9:return _context.abrupt(\"return\",rejectWithValue(data));case 10:return _context.abrupt(\"return\",fulfillWithValue(data));case 13:_context.prev=13;_context.t0=_context[\"catch\"](1);return _context.abrupt(\"return\",rejectWithValue(_context.t0));case 16:case\"end\":return _context.stop();}},_callee,null,[[1,13]]);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());","map":{"version":3,"names":["createAsyncThunk","loginThunk","dataAuth","rejectWithValue","fulfillWithValue","dispatch","getState","api","extra","login","data","token","localStorage","setItem"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/redux/redux-thunk/user-thunk/loginThunk.js"],"sourcesContent":["import {createAsyncThunk} from \"@reduxjs/toolkit\";\n\nexport const loginThunk = createAsyncThunk(\n    'user/loginThunk',\n    async function (dataAuth, {rejectWithValue, fulfillWithValue, dispatch, getState, extra: api}) {\n        try {\n            const data = await api.login(dataAuth);\n\n            if (data.token) {\n                localStorage.setItem('jwt', data.token);\n            } else {\n                return rejectWithValue(data);\n            }\n            return fulfillWithValue(data);\n        } catch (e) {\n            return rejectWithValue(e);\n        }\n    })\n"],"mappings":"kTAAA,OAAQA,gBAAgB,KAAO,kBAAkB,CAEjD,MAAO,IAAMC,WAAU,CAAGD,gBAAgB,CACtC,iBAAiB,6FACjB,iBAAgBE,QAAQ,wLAAGC,eAAe,MAAfA,eAAe,CAAEC,gBAAgB,MAAhBA,gBAAgB,CAAEC,QAAQ,MAARA,QAAQ,CAAEC,QAAQ,MAARA,QAAQ,CAASC,GAAG,MAAVC,KAAK,uCAE5DD,IAAG,CAACE,KAAK,CAACP,QAAQ,CAAC,QAAhCQ,IAAI,mBAENA,IAAI,CAACC,KAAK,yBACVC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEH,IAAI,CAACC,KAAK,CAAC,CAAC,8DAEjCR,eAAe,CAACO,IAAI,CAAC,0CAEzBN,gBAAgB,CAACM,IAAI,CAAC,4FAEtBP,eAAe,aAAG,sEAEhC,oEAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}