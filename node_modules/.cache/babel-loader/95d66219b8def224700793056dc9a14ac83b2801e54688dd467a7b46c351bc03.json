{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useCallback,useEffect}from'react';import Spinner from\"../../components/Spiner/Spiner\";import Product from\"../../components/Product/Product\";import s from'../../components/Product/Product.module.css';import{useParams}from\"react-router-dom\";import NotFoundPage from\"../NotFoundPage/NotFoundPage\";import{useDispatch,useSelector}from\"react-redux\";import{getSingleProductThunk}from\"../../redux/redux-thunk/singleProduct-thunk/getSingleProductThunk\";import{changeLikeProductThunk}from\"../../redux/redux-thunk/products-thunk/changeLikeProductThunk\";import{setProductState}from\"../../redux/redux-slice/singleProduct/singleProductSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var _useParams=useParams(),productId=_useParams.productId;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.singleProduct;}),singleProduct=_useSelector.singleProduct,isLoading=_useSelector.isLoading,isError=_useSelector.error;console.log('singleProduct-->',singleProduct);useEffect(function(){dispatch(getSingleProductThunk(productId));},[dispatch,productId]);var handleProductLike=useCallback(function(){dispatch(changeLikeProductThunk(singleProduct)).then(function(updateProduct){dispatch(setProductState(updateProduct.payload.product));});},[dispatch,singleProduct]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[isLoading?/*#__PURE__*/_jsx(\"div\",{className:s.wrapperLoader,children:/*#__PURE__*/_jsx(Spinner,{})}):!isError&&/*#__PURE__*/_jsx(Product,_objectSpread(_objectSpread({},singleProduct),{},{onProductLike:handleProductLike})),isError?/*#__PURE__*/_jsx(NotFoundPage,{}):null]});};export default ProductPage;","map":{"version":3,"names":["React","useCallback","useEffect","Spinner","Product","s","useParams","NotFoundPage","useDispatch","useSelector","getSingleProductThunk","changeLikeProductThunk","setProductState","ProductPage","productId","dispatch","state","singleProduct","isLoading","isError","error","console","log","handleProductLike","then","updateProduct","payload","product","wrapperLoader"],"sources":["C:/Users/User/Desktop/K.V/Education/SberUniversity/dogfood2/src/pages/ProductPage/ProductPage.jsx"],"sourcesContent":["import React, {useCallback, useEffect} from 'react';\n\nimport Spinner from \"../../components/Spiner/Spiner\";\nimport Product from \"../../components/Product/Product\";\nimport s from '../../components/Product/Product.module.css'\nimport {useParams} from \"react-router-dom\";\nimport NotFoundPage from \"../NotFoundPage/NotFoundPage\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {getSingleProductThunk} from \"../../redux/redux-thunk/singleProduct-thunk/getSingleProductThunk\";\nimport {changeLikeProductThunk} from \"../../redux/redux-thunk/products-thunk/changeLikeProductThunk\";\nimport {setProductState} from \"../../redux/redux-slice/singleProduct/singleProductSlice\";\n\nconst ProductPage = () => {\n    const {productId} = useParams();\n    const dispatch = useDispatch();\n    const {singleProduct, isLoading, error: isError} = useSelector(state => state.singleProduct);\n\n    console.log('singleProduct-->', singleProduct);\n\n    useEffect(() => {\n        dispatch(getSingleProductThunk(productId))\n    }, [dispatch, productId])\n\n    const handleProductLike = useCallback(() => {\n        dispatch(changeLikeProductThunk(singleProduct)).then(updateProduct => {\n            dispatch(setProductState(updateProduct.payload.product));\n        })\n    }, [dispatch, singleProduct]);\n\n    return (\n        <div className=\"container\">\n            {isLoading ? (\n                <div className={s.wrapperLoader}>\n                    <Spinner/>\n                </div>\n            ) : (\n                !isError && <Product {...singleProduct} onProductLike={handleProductLike}/>)}\n            {isError ? (\n                <NotFoundPage/>\n            ) : null}\n        </div>\n    );\n};\n\nexport default ProductPage;\n"],"mappings":"gJAAA,MAAOA,MAAK,EAAGC,WAAW,CAAEC,SAAS,KAAO,OAAO,CAEnD,MAAOC,QAAO,KAAM,gCAAgC,CACpD,MAAOC,QAAO,KAAM,kCAAkC,CACtD,MAAOC,EAAC,KAAM,6CAA6C,CAC3D,OAAQC,SAAS,KAAO,kBAAkB,CAC1C,MAAOC,aAAY,KAAM,8BAA8B,CACvD,OAAQC,WAAW,CAAEC,WAAW,KAAO,aAAa,CACpD,OAAQC,qBAAqB,KAAO,mEAAmE,CACvG,OAAQC,sBAAsB,KAAO,+DAA+D,CACpG,OAAQC,eAAe,KAAO,0DAA0D,CAAC,wFAEzF,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACtB,eAAoBP,SAAS,EAAE,CAAxBQ,SAAS,YAATA,SAAS,CAChB,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B,iBAAmDC,WAAW,CAAC,SAAAO,KAAK,QAAIA,MAAK,CAACC,aAAa,GAAC,CAArFA,aAAa,cAAbA,aAAa,CAAEC,SAAS,cAATA,SAAS,CAASC,OAAO,cAAdC,KAAK,CAEtCC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEL,aAAa,CAAC,CAE9Cf,SAAS,CAAC,UAAM,CACZa,QAAQ,CAACL,qBAAqB,CAACI,SAAS,CAAC,CAAC,CAC9C,CAAC,CAAE,CAACC,QAAQ,CAAED,SAAS,CAAC,CAAC,CAEzB,GAAMS,kBAAiB,CAAGtB,WAAW,CAAC,UAAM,CACxCc,QAAQ,CAACJ,sBAAsB,CAACM,aAAa,CAAC,CAAC,CAACO,IAAI,CAAC,SAAAC,aAAa,CAAI,CAClEV,QAAQ,CAACH,eAAe,CAACa,aAAa,CAACC,OAAO,CAACC,OAAO,CAAC,CAAC,CAC5D,CAAC,CAAC,CACN,CAAC,CAAE,CAACZ,QAAQ,CAAEE,aAAa,CAAC,CAAC,CAE7B,mBACI,aAAK,SAAS,CAAC,WAAW,WACrBC,SAAS,cACN,YAAK,SAAS,CAAEb,CAAC,CAACuB,aAAc,uBAC5B,KAAC,OAAO,IAAE,EACR,CAEN,CAACT,OAAO,eAAI,KAAC,OAAO,gCAAKF,aAAa,MAAE,aAAa,CAAEM,iBAAkB,GAAG,CAC/EJ,OAAO,cACJ,KAAC,YAAY,IAAE,CACf,IAAI,GACN,CAEd,CAAC,CAED,cAAeN,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}